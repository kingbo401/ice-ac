<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper 
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="com.kingbo401.acl.dao.DataGrantRecordDetailDAO"> 
	<insert id="create" parameterType="DataGrantRecordDetailDO" useGeneratedKeys="true" keyProperty="id">
		insert into data_grant_record_detail(data_grant_record_id,property_id,property_value,property_value_desc,gmt_create,gmt_modified)
		values(#{dataGrantRecordId},#{propertyId},#{propertyValue},#{propertyValueDesc},now(),now())
	</insert>
	
	<insert id="batchCreate" parameterType="list">
		insert into data_grant_record_detail(data_grant_record_id,property_id,property_value,property_value_desc,gmt_create,gmt_modified) values
		<foreach collection="datas" item="item" index="index" separator="," >  
		(#{item.dataGrantRecordId},#{item.propertyId},#{item.propertyValue},#{item.propertyValueDesc},now(),now())
		</foreach>
	</insert>
	
	<delete id="removeByRecordIds" parameterType="list">
		delete from data_grant_record_detail where data_grant_record_id in		
		<foreach collection="recordIds" item="recordId" index="index" open="(" separator="," close=")">
			#{recordId}
		</foreach>
	</delete>
	
	<delete id="removeByRecordId" parameterType="list">
		delete from data_grant_record_detail where data_grant_record_id = #{recordId}		
	</delete>
	
	<select id = "listDetailByRecordId"  resultType="DataGrantRecordDetailDO">
		select * from data_grant_record_detail where data_grant_record_id=#{recordId}
	</select>
	
	<select id = "listDetailByRecordIds" resultType="DataGrantRecordDetailDO">
		select * from data_grant_record_detail where data_grant_record_id in		
		<foreach collection="recordIds" item="recordId" index="index" open="(" separator="," close=")">
			#{recordId}
		</foreach>
	</select>
</mapper> 